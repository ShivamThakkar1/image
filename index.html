<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Random Image Downloader</title>
</head>
<body>
  <h1>Random Image Downloader</h1>
  <a id="downloadLink" href="" download="image.jpg" style="display: none;"></a>
  <img id="randomImage" src="" alt="Random Image" style="display: none;">
  
  <script>
    // Function to fetch the contents of a GitHub folder
    async function fetchGitHubFolderContents(owner, repo, path) {
      const response = await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}`);
      const data = await response.json();
      return data;
    }

    // Function to filter only image files from the fetched contents
    function filterImageFiles(contents) {
      return contents.filter(item => item.type === 'file' && item.name.match(/\.(jpeg|jpg|png|gif)$/i));
    }

    // Function to get a random image URL
    function getRandomImageUrl(images) {
      const randomIndex = Math.floor(Math.random() * images.length);
      return images[randomIndex].download_url;
    }

    // Function to download a random image
    async function downloadRandomImage(owner, repo, path) {
      try {
        const contents = await fetchGitHubFolderContents(owner, repo, path);
        const imageFiles = filterImageFiles(contents);
        
        if (imageFiles.length > 0) {
          const randomImageUrl = getRandomImageUrl(imageFiles);
          const downloadLink = document.getElementById('downloadLink');
          downloadLink.href = randomImageUrl;
          downloadLink.click();
        } else {
          console.error('No image files found in the specified folder.');
        }
      } catch (error) {
        console.error('Error fetching images:', error);
      }
    }

    // Call the function to download a random image when the page loads
    window.onload = () => {
      const owner = 'ShivamThakkar1';
      const repo = 'image.jpg';
      const path = 'images'; // Replace 'images' with your folder path
      downloadRandomImage(owner, repo, path);
    };
  </script>
</body>
</html>
